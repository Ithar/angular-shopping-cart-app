<h1> Shopping Cart </h1>

<div *ngIf="cart" class="row col-8">

    <div class="mt-2 mt-5 mb-4" >You have a total of <b>{{ cart.totalQuantity }}</b> items.</div>

    <table class="table">
        <thead>
            <tr>
                <th></th>
                <th>Car</th>
                <th class="text-center">Quantity</th>
                <th class="text-right">Price</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let cartItem of cart.cartItems">
                <td><div [style.backgroundImage]="'url(' + cartItem.product.image + ')'" class="checkout-product-thumbnail"></div> </td>
                <td>{{ cartItem.product.title }}</td>
                <td class="text-center">{{ cartItem.quantity }}</td>
                <td class="text-right">{{ cartItem.product.price  * cartItem.quantity | currency:'GBP':'symbol' }}</td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <th></th>
                <th></th>
                <th></th>
                <th class="text-right">{{ cart.totalPrice | currency:'GBP':'symbol' }}</th>
            </tr>
        </tfoot>
    </table>

    <div class="row col-8">

        <button routerLink="/checkout" class="btn btn-success btn-sm mr-2" [disabled]="(isCartEmpty) ? 'disabled' : null">Checkout</button>
        <button (click)="clear()" class="btn btn-danger btn-sm mr-2" [disabled]="(isCartEmpty) ? 'disabled' : null">Clear Cart</button>
        
        <div *ngIf="isCartEmpty" class="alert alert-warning mt-4" role="alert">
            Your shopping cart is empty  ... return to <b><a routerLink="/">home</a></b>.
        </div>
    </div>

</div>